Modified by haitao on 2010/05/03: 
	convert a parse forest into a translation forest
	usage: cat short1_pforest | ./forest.py -r rules.id_large1.prob >short1_tforest
						     the rule set
	You can use "-t" to specify an input of translation forest, example: cat sample.transforest | ./forest.py -t -k5 -w "lm1=4"

  	
translation forest codebase for haitao from liang.
2010/04/27

NOTE:
1) mystage-stable/ contains the forest reranking code and example parse forest.

[amadeus:~/work1/translation-forest-code/mystage-stable] cat example.forest | ./forest.py 
sent #boy, 1-best computed in 0.00 secs
1	boy
-55.3729
(S (NP (PRP I)) (VP (VBD saw) (NP (PRP him)) (PP (IN with) (NP (DT a) (NN mirror)))))
1 forests loaded in 0.00 secs (avg 0.00 per sent)


2) sample.transforest is an example translation forest.

[amadeus:~/work1/translation-forest-code] cat sample.transforest | ./forest.py  -k5 -w "lm1=4"

using weights: "lm1=4...lm1=4" (1 fields)
sent #sent.1, 5-best computed in 0.21 secs
5	sent.1
k=1	score=16.4047	bleu+1=0.3861	lenratio=1.05
by line thank you .
k=2	score=22.5059	bleu+1=0.6804	lenratio=1.47
by line thank you very much .
k=3	score=24.3036	bleu+1=0.2979	lenratio=0.84
by line members .
k=4	score=24.3529	bleu+1=0.3297	lenratio=0.84
by line you .
k=5	score=25.8540	bleu+1=0.3920	lenratio=0.84
by line thank you
1 forests loaded in 0.23 secs (avg 0.23 per sent)


3) for translation forest, -k <K> automatically removes duplicate strings.

4) prune.py -p <GAP> does relatively-useless pruning.

5) --oracle prints oracle-BLEU translation.

